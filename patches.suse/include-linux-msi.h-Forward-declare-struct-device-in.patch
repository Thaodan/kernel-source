From a89791ee66d254cab60c6ab0b69a062e380ef7e8 Mon Sep 17 00:00:00 2001
From: Varad Gautam <varad.gautam@suse.com>
Date: Mon, 11 Oct 2021 17:03:33 +0200
Subject: [PATCH] include/linux/msi.h: Forward declare struct device in msi.h
Mime-version: 1.0
Content-type: text/plain; charset=UTF-8
Content-transfer-encoding: 8bit
Patch-mainline: Never, to be squashed with the fixed patch upstream
References: bsc#1185762

This fixes the following build warning introduced after
"genirq: add device_has_managed_msi_irq (bsc#1185762).".

In file included from ../drivers/iommu/irq_remapping.c:6:0:
../include/linux/msi.h:23:40: warning: 'struct device' declared
inside parameter list will not be visible outside of this
definition or declaration

Signed-off-by: Michal Such√°nek <msuchanek@suse.de>
Signed-off-by: Varad Gautam <varad.gautam@suse.com>

---
 include/linux/msi.h | 1 +
 1 file changed, 1 insertion(+)

diff --git a/include/linux/msi.h b/include/linux/msi.h
index d16aba8a24c5..066c14cddf04 100644
--- a/include/linux/msi.h
+++ b/include/linux/msi.h
@@ -13,6 +13,7 @@ struct msi_msg {
 
 extern int pci_msi_ignore_mask;
 /* Helper functions */
+struct device;
 struct irq_data;
 struct msi_desc;
 struct pci_dev;
-- 
2.32.0

